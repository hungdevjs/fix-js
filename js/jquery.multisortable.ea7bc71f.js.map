{"version":3,"sources":["../js/jquery.multisortable.js"],"names":["$","fn","multiselectable","options","mouseDown","e","item","shift_range","parent","myIndex","index","prev","find","prevIndex","length","selectedClass","addClass","ctrlKey","metaKey","hasClass","removeClass","not","nextUntil","shiftKey","prevUntil","add","mousedown","click","is","extend","defaults","each","list","data","delegate","items","disableSelection","event","elem","multisortable","settings","regroup","itemsBefore","filter","css","position","width","left","top","zIndex","before","itemsAfter","after","setTimeout","cancel","placeholder","start","ui","i","height","outerHeight","stop","sort","parseInt","replace","reverse","Array","prototype","_reverse","receive","sender","sortable","jQuery"],"mappings":"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","file":"jquery.multisortable.ea7bc71f.js","sourceRoot":"..\\src","sourcesContent":["/**\r\n * jquery.multisortable.js - v0.2\r\n * https://github.com/shvetsgroup/jquery.multisortable\r\n *\r\n * Author: Ethan Atlakson, Jay Hayes, Gabriel Such, Alexander Shvets\r\n * Last Revision 3/16/2012\r\n * multi-selectable, multi-sortable jQuery plugin\r\n */\r\n\r\n !function($) {\r\n\r\n\t$.fn.multiselectable = function(options) {\r\n\t\tif (!options) {\r\n\t\t\toptions = {}\r\n\t\t}\r\n\t\toptions = $.extend({}, $.fn.multiselectable.defaults, options);\r\n\r\n\t\tfunction mouseDown(e) {\r\n\t\t\tvar item = $(this),\r\n\t\t\t\tparent = item.parent(),\r\n\t\t\t\tmyIndex = item.index();\r\n\r\n\t\t\tvar prev = parent.find('.multiselectable-previous');\r\n\t\t\t// If no previous selection found, start selecting from first selected item.\r\n\t\t\tprev = prev.length ? prev : $(parent.find('.' + options.selectedClass)[0]).addClass('multiselectable-previous');\r\n\t\t\tvar prevIndex = prev.index();\r\n\r\n\t\t\tif (e.ctrlKey || e.metaKey) {\r\n\t\t\t\tif (item.hasClass(options.selectedClass)) {\r\n\t\t\t\t\titem.removeClass(options.selectedClass).removeClass('multiselectable-previous')\r\n\t\t\t\t\tif (item.not('.child').length) {\r\n\t\t\t\t\t\titem.nextUntil(':not(.child)').removeClass(options.selectedClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tparent.find('.multiselectable-previous').removeClass('multiselectable-previous');\r\n\t\t\t\t\titem.addClass(options.selectedClass).addClass('multiselectable-previous')\r\n\t\t\t\t\tif (item.not('.child').length) {\r\n\t\t\t\t\t\titem.nextUntil(':not(.child)').addClass(options.selectedClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (e.shiftKey) {\r\n\t\t\t\tvar last_shift_range = parent.find('.multiselectable-shift');\r\n\t\t\t\tlast_shift_range.removeClass(options.selectedClass).removeClass('multiselectable-shift');\r\n\r\n\t\t\t\tvar shift_range;\r\n\t\t\t\tif (prevIndex < myIndex) {\r\n\t\t\t\t\tshift_range = item.prevUntil('.multiselectable-previous').add(prev).add(item);\r\n\t\t\t\t}\r\n\t\t\t\telse if (prevIndex > myIndex) {\r\n\t\t\t\t\tshift_range = item.nextUntil('.multiselectable-previous').add(prev).add(item);\r\n\t\t\t\t}\r\n\t\t\t\tshift_range.addClass(options.selectedClass).addClass('multiselectable-shift');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tparent.find('.multiselectable-shift').removeClass('multiselectable-shift');\r\n\t\t\t}\r\n\r\n\t\t\tif (!e.ctrlKey && !e.metaKey && !e.shiftKey) {\r\n\t\t\t\tparent.find('.multiselectable-previous').removeClass('multiselectable-previous');\r\n\t\t\t\tif (!item.hasClass(options.selectedClass)) {\r\n\t\t\t\t\tparent.find('.' + options.selectedClass).removeClass(options.selectedClass);\r\n\t\t\t\t\titem.addClass(options.selectedClass).addClass('multiselectable-previous');\r\n\t\t\t\t\tif (item.not('.child').length) {\r\n\t\t\t\t\t\titem.nextUntil(':not(.child)').addClass(options.selectedClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\toptions.mousedown(e, item);\r\n\t\t}\r\n\r\n\t\tfunction click(e) {\r\n\t\t\tif ( $(this).is('.ui-draggable-dragging') ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar item = $(this),\tparent = item.parent();\r\n\r\n\t\t\t// If item wasn't draged and is not multiselected, it should reset selection for other items.\r\n\t\t\tif (!e.ctrlKey && !e.metaKey && !e.shiftKey) {\r\n\t\t\t\tparent.find('.multiselectable-previous').removeClass('multiselectable-previous');\r\n\t\t\t\tparent.find('.' + options.selectedClass).removeClass(options.selectedClass);\r\n\t\t\t\titem.addClass(options.selectedClass).addClass('multiselectable-previous');\r\n\t\t\t\tif (item.not('.child').length) {\r\n\t\t\t\t\titem.nextUntil(':not(.child)').addClass(options.selectedClass);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\toptions.click(e, item);\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar list = $(this);\r\n\r\n\t\t\tif (!list.data('multiselectable')) {\r\n\t\t\t\tlist.data('multiselectable', true)\r\n\t\t\t\t\t.delegate(options.items, 'mousedown', mouseDown)\r\n\t\t\t\t\t.delegate(options.items, 'click', click)\r\n\t\t\t\t\t.disableSelection();\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\t$.fn.multiselectable.defaults = {\r\n\t\tclick: function(event, elem) {},\r\n\t\tmousedown: function(event, elem) {},\r\n\t\tselectedClass: 'selected',\r\n\t\titems: 'li'\r\n\t};\r\n\r\n\r\n\t$.fn.multisortable = function(options) {\r\n\t\tif (!options) {\r\n\t\t\toptions = {}\r\n\t\t}\r\n\t\tvar settings = $.extend({}, $.fn.multisortable.defaults, options);\r\n\r\n\t\tfunction regroup(item, list) {\r\n\t\t\tif (list.find('.' + settings.selectedClass).length > 0) {\r\n\t\t\t\tvar myIndex = item.data('i');\r\n\r\n\t\t\t\tvar itemsBefore = list.find('.' + settings.selectedClass).filter(function() {\r\n\t\t\t\t\treturn $(this).data('i') < myIndex\r\n\t\t\t\t}).css({\r\n\t\t\t\t\t\tposition: '',\r\n\t\t\t\t\t\twidth: '',\r\n\t\t\t\t\t\tleft: '',\r\n\t\t\t\t\t\ttop: '',\r\n\t\t\t\t\t\tzIndex: ''\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\titem.before(itemsBefore);\r\n\r\n\t\t\t\tvar itemsAfter = list.find('.' + settings.selectedClass).filter(function() {\r\n\t\t\t\t\treturn $(this).data('i') > myIndex\r\n\t\t\t\t}).css({\r\n\t\t\t\t\t\tposition: '',\r\n\t\t\t\t\t\twidth: '',\r\n\t\t\t\t\t\tleft: '',\r\n\t\t\t\t\t\ttop: '',\r\n\t\t\t\t\t\tzIndex: ''\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\titem.after(itemsAfter);\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\titemsAfter.add(itemsBefore).addClass(settings.selectedClass);\r\n\t\t\t\t}, 0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar list = $(this);\r\n\r\n\t\t\t//enable multi-selection\r\n\t\t\tlist.multiselectable({\r\n\t\t\t\tselectedClass: settings.selectedClass,\r\n\t\t\t\tclick: settings.click,\r\n\t\t\t\titems: settings.items,\r\n\t\t\t\tmousedown: settings.mousedown\r\n\t\t\t});\r\n\r\n\t\t\t//enable sorting\r\n\t\t\toptions.cancel = settings.items + ':not(.' + settings.selectedClass + ')';\r\n\t\t\toptions.placeholder = settings.placeholder;\r\n\t\t\toptions.start = function(event, ui) {\r\n\t\t\t\tif (ui.item.hasClass(settings.selectedClass)) {\r\n\t\t\t\t\tvar parent = ui.item.parent();\r\n\r\n\t\t\t\t\t//assign indexes to all selected items\r\n\t\t\t\t\tparent.find('.' + settings.selectedClass).each(function(i) {\r\n\t\t\t\t\t\t$(this).data('i', i);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// adjust placeholder size to be size of items\r\n\t\t\t\t\tvar height = parent.find('.' + settings.selectedClass).length * ui.item.outerHeight();\r\n\t\t\t\t\tui.placeholder.height(height);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsettings.start(event, ui);\r\n\t\t\t};\r\n\r\n\t\t\toptions.stop = function(event, ui) {\r\n\t\t\t\tregroup(ui.item, ui.item.parent());\r\n\t\t\t\tsettings.stop(event, ui);\r\n\t\t\t};\r\n\r\n\t\t\toptions.sort = function(event, ui) {\r\n\t\t\t\tvar parent = ui.item.parent(),\r\n\t\t\t\t\tmyIndex = ui.item.data('i'),\r\n\t\t\t\t\ttop = parseInt(ui.item.css('top').replace('px', '')),\r\n\t\t\t\t\tleft = parseInt(ui.item.css('left').replace('px', ''));\r\n\r\n\t\t\t\t// fix to keep compatibility using prototype.js and jquery together\r\n\t\t\t\t$.fn.reverse = Array.prototype._reverse || Array.prototype.reverse\r\n\r\n\t\t\t\tvar height = 0;\r\n\t\t\t\t$('.' + settings.selectedClass, parent).filter(function() {\r\n\t\t\t\t\treturn $(this).data('i') < myIndex;\r\n\t\t\t\t}).reverse().each(function() {\r\n\t\t\t\t\t\theight += $(this).outerHeight();\r\n\t\t\t\t\t\t$(this).css({\r\n\t\t\t\t\t\t\tleft: left,\r\n\t\t\t\t\t\t\ttop: top - height,\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tzIndex: 1000,\r\n\t\t\t\t\t\t\twidth: ui.item.width()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\theight = ui.item.outerHeight();\r\n\t\t\t\t$('.' + settings.selectedClass, parent).filter(function() {\r\n\t\t\t\t\treturn $(this).data('i') > myIndex;\r\n\t\t\t\t}).each(function() {\r\n\t\t\t\t\t\tvar item = $(this);\r\n\t\t\t\t\t\titem.css({\r\n\t\t\t\t\t\t\tleft: left,\r\n\t\t\t\t\t\t\ttop: top + height,\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tzIndex: 1000,\r\n\t\t\t\t\t\t\twidth: ui.item.width()\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\theight += item.outerHeight();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tsettings.sort(event, ui);\r\n\t\t\t};\r\n\r\n\t\t\toptions.receive = function(event, ui) {\r\n\t\t\t\tregroup(ui.item, ui.sender);\r\n\t\t\t\tsettings.receive(event, ui);\r\n\t\t\t};\r\n\r\n\t\t\tlist.sortable(options).disableSelection();\r\n\t\t})\r\n\t};\r\n\r\n\t$.fn.multisortable.defaults = {\r\n\t\tstart: function(event, ui) {},\r\n\t\tstop: function(event, ui) {},\r\n\t\tsort: function(event, ui) {},\r\n\t\treceive: function(event, ui) {},\r\n\t\tclick: function(event, elem) {},\r\n\t\tmousedown: function(event, elem) {},\r\n\t\tselectedClass: 'selected',\r\n\t\tplaceholder: 'placeholder',\r\n\t\titems: 'li'\r\n\t};\r\n\r\n}(jQuery);"]}